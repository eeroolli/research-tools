[PATHS]
# Update these paths to match your system
scan_folder = /path/to/your/phone/photos/
output_folder = ./data/output
log_folder = ./data/logs
data_folder = ./data
cache_folder = ./data/cache
temp_folder = ./data/temp

# Scanner and publications paths
scanner_papers_dir = /mnt/i/FraScanner/papers  # where the scanned papers are stored
publications_dir = /mnt/g/My Drive/publications  # zotero publications are stored here

# Zotero local database (read-only for searching)
zotero_db_path = /path/to/your/Zotero/zotero.sqlite

[zotero]
# Legacy format for existing scripts - keep this for backward compatibility
zotero_api_key = YOUR_ZOTERO_API_KEY_HERE
zotero_library_id = YOUR_ZOTERO_LIBRARY_ID_HERE
zotero_library_type = user

[APIS]
# New format for future scripts
zotero_api_key = YOUR_ZOTERO_API_KEY_HERE
zotero_library_id = YOUR_ZOTERO_LIBRARY_ID_HERE
zotero_library_type = user

# CrossRef API - optional email for "polite pool" (better rate limits)
# Add your email in config.personal.conf
crossref_email = 

[KEYS]
# API keys for external services
google_books_api_key = YOUR_GOOGLE_BOOKS_API_KEY_HERE

# NOTE: Book and Paper APIs are configured in shared_tools/api/national_library_config.yaml
# This includes: OpenLibrary, Google Books, National Libraries, OpenAlex, CrossRef, PubMed, arXiv
# Edit that file to add API keys or modify endpoints

[API_PRIORITIES]
# Paper metadata lookup priority order
# Format: source:priority (higher number = tried earlier)
# Available sources: crossref, openalex, pubmed, arxiv
# If a source is not in this list, it won't be used

# Default priority order for general academic papers
crossref = 1
openalex = 2
arxiv = 3
pubmed = 9
# The priority 1 is the highest priority, and the priority 9 is the lowest priority. 
# If you work with medical articles, set pubmed to 1. 
# If you work with Data Science articles, set arxiv to 1.

[PROCESSING]
language_detection = true
languages = EN,DE,NO,FI,SE
intel_gpu_optimization = true
batch_size = 10
max_retries = 3

[OLLAMA]
# Ollama server configuration
# Ollama server host (localhost or remote hostname/IP)
# For local Ollama: host = localhost
# For remote Ollama: host = 192.168.178.129
# NOTE: Docker container on p1 (192.168.178.129) has llama2:7b model
host = 192.168.178.129
# Ollama server port (default is 11434)
port = 11434
# Ollama model to use (for both metadata extraction and title shortening)
model = llama2:7b
# Request timeout in seconds (for HTTP API calls)
timeout = 180
# Number of retries for failed requests (e.g., container wake-up)
max_retries = 2
# Delay between retries in seconds
retry_delay = 5
# Automatically start Ollama if not running
auto_start = true
# Stop Ollama when daemon shuts down (if we started it)
auto_stop = true
# Seconds to wait for Ollama to start
startup_timeout = 30
# Seconds to wait for Ollama to stop gracefully
shutdown_timeout = 10

[DAEMON]
# Optional: Check for daemon running on another machine
# Leave empty if only running on one machine
# Example: remote_check_host = p1
# Example: remote_check_host = 192.168.1.100
remote_check_host = 

[GROBID]
# GROBID server configuration
# GROBID server host (localhost or remote hostname/IP)
# For local GROBID: host = localhost
# For remote GROBID: host = p1
# For remote GROBID: host = 192.168.178.129
host = 192.168.178.129
# GROBID server port (default is 8070)
port = 8070
# Automatically start GROBID Docker container if not running (only if host=localhost)
auto_start = true
# Stop GROBID container when daemon shuts down (if we started it, only if host=localhost)
auto_stop = true
# Docker container name for GROBID
container_name = grobid
# Maximum pages to process for metadata extraction (prevents extracting authors from references)
max_pages = 2
# PDF rotation handling for scanned book chapters
handle_rotation = true
# Maximum pages to check for rotation detection
rotation_check_pages = 2

[BORDER]
# Border detection configuration for scanned PDFs
# Maximum border width to detect in pixels (for large dark borders from copier/scanner)
max_border_width = 600

[FILENAME_PATTERNS]
# Filename pattern for processed PDFs - choose one by setting active_pattern (1-6):

# Pattern templates
# e.g., Braman_and_Kahan_2001_More_Statistics.pdf
pattern1 = {authors}_{year}_{title}
# e.g., 2001_Braman_and_Kahan_More_Statistics.pdf
pattern2 = {year}_{authors}_{title}
# e.g., More_Statistics_Braman_and_Kahan_2001.pdf
pattern3 = {title}_{authors}_{year}
# e.g., Braman_and_Kahan_More_Statistics_2001.pdf
pattern4 = {authors}_{title}_{year}
# e.g., 10_1234_5678_More_Statistics.pdf (if DOI available)
pattern5 = {doi_safe}_{title}
# e.g., More_Statistics_2001.pdf
pattern6 = {title}_{year}

# Set active_pattern to 1-6 to choose above pattern
active_pattern = 1
# Maximum filename length (without extension)
filename_max_length = 100

# Author formatting options
author_format_single = {lastname}
author_format_two = {lastname1}_and_{lastname2}
author_format_multiple = {lastname1}_et_al
author_max_names = 3

# Title formatting options
title_max_length = 100
title_clean_spaces = true
title_clean_special_chars = true

[ZOTERO]
duplicate_checking = true
smart_tag_management = true
annotation_storage = true

[TAG_GROUPS]
# Tag groups for different actions
# Format: group_name = tag1,tag2,tag3
# Enhanced format: group_name = add:tag1,tag2 remove:tag3
# Examples:
#   group1 = scannet
#   group2 = add:scannet,review remove:Eero har
#   group3 = add:important,urgent
group1 = 
group2 = 
group3 =

[ACTIONS]
# Action definitions for multi-digit input
# Format: action_number = action_name:description
action0 = skip:Skip (don't make any changes to Zotero)
action1 = add_group1_tags:Add tags: group1
action2 = add_group2_tags:Add tags: group2
action3 = add_group3_tags:Add tags: group3
action4 = use_online_tags:Use tags from online library
action5 = update_author:Update Author
action6 = update_title:Update Title
action7 = update_metadata:Update all metadata info (publisher, abstract, ISBN etc.)
action8 = show_differences:Show differences between Zotero and online metadata
action999 = remove_item:Remove item from Zotero (ALWAYS CONFIRMED)

[MENU_OPTIONS]
# Menu display options
show_metadata_tags = true
show_differences = true
allow_multi_digit = true
confirm_destructive_actions = true
